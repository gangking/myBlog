<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>项目开发心得 | MrXiong</title>
    <meta name="description" content="熊刚的个人博客首页，熊刚的技术作品，熊刚的生活成长">
    <link rel="icon" href="/myBlog/favicon.ico">
  <link rel="manifest" href="/myBlog/manifest.json">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.67215e50.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.9a205e1a.js" as="script"><link rel="preload" href="/myBlog/assets/js/2.c03f67b8.js" as="script"><link rel="preload" href="/myBlog/assets/js/33.69f4ac61.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.1772eaaa.js"><link rel="prefetch" href="/myBlog/assets/js/11.b72fb48b.js"><link rel="prefetch" href="/myBlog/assets/js/12.c2a1f8a6.js"><link rel="prefetch" href="/myBlog/assets/js/13.8288193b.js"><link rel="prefetch" href="/myBlog/assets/js/14.952ed0f9.js"><link rel="prefetch" href="/myBlog/assets/js/15.c67c2b45.js"><link rel="prefetch" href="/myBlog/assets/js/16.e7bdeb4f.js"><link rel="prefetch" href="/myBlog/assets/js/17.775b6b87.js"><link rel="prefetch" href="/myBlog/assets/js/18.3eb29a8e.js"><link rel="prefetch" href="/myBlog/assets/js/19.21de1f76.js"><link rel="prefetch" href="/myBlog/assets/js/20.94867820.js"><link rel="prefetch" href="/myBlog/assets/js/21.6daa352d.js"><link rel="prefetch" href="/myBlog/assets/js/22.5e365889.js"><link rel="prefetch" href="/myBlog/assets/js/23.b11b9f1d.js"><link rel="prefetch" href="/myBlog/assets/js/24.b5e770f4.js"><link rel="prefetch" href="/myBlog/assets/js/25.0d01a527.js"><link rel="prefetch" href="/myBlog/assets/js/26.cb940bf6.js"><link rel="prefetch" href="/myBlog/assets/js/27.ed621a85.js"><link rel="prefetch" href="/myBlog/assets/js/28.bcdc172f.js"><link rel="prefetch" href="/myBlog/assets/js/29.da4d0bf3.js"><link rel="prefetch" href="/myBlog/assets/js/3.0f742e16.js"><link rel="prefetch" href="/myBlog/assets/js/30.bbf7f9de.js"><link rel="prefetch" href="/myBlog/assets/js/31.f84eb563.js"><link rel="prefetch" href="/myBlog/assets/js/32.485bc394.js"><link rel="prefetch" href="/myBlog/assets/js/34.929ce270.js"><link rel="prefetch" href="/myBlog/assets/js/35.ecaae5f1.js"><link rel="prefetch" href="/myBlog/assets/js/36.fb388a85.js"><link rel="prefetch" href="/myBlog/assets/js/37.b0fc1645.js"><link rel="prefetch" href="/myBlog/assets/js/38.22c84c1e.js"><link rel="prefetch" href="/myBlog/assets/js/4.6c9ad4a3.js"><link rel="prefetch" href="/myBlog/assets/js/5.be02b664.js"><link rel="prefetch" href="/myBlog/assets/js/6.99df0c05.js"><link rel="prefetch" href="/myBlog/assets/js/7.872b75e5.js"><link rel="prefetch" href="/myBlog/assets/js/8.997b8e74.js"><link rel="prefetch" href="/myBlog/assets/js/9.3fefe930.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.67215e50.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">MrXiong</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/myBlog/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/myBlog/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/myBlog/es6/" class="nav-link">ES6</a></li></ul></div></div><div class="nav-item"><a href="/myBlog/node/" class="nav-link">后端及实用技术</a></div><div class="nav-item"><a href="/myBlog/social/" class="nav-link">社交媒体</a></div><div class="nav-item"><a href="/myBlog/about/" class="nav-link">生活与创作</a></div> <a href="https://github.com/gangking/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/myBlog/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/myBlog/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/myBlog/es6/" class="nav-link">ES6</a></li></ul></div></div><div class="nav-item"><a href="/myBlog/node/" class="nav-link">后端及实用技术</a></div><div class="nav-item"><a href="/myBlog/social/" class="nav-link">社交媒体</a></div><div class="nav-item"><a href="/myBlog/about/" class="nav-link">生活与创作</a></div> <a href="https://github.com/gangking/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/vue/" class="sidebar-link">介绍</a></li><li><a href="/myBlog/vue/01.html" class="sidebar-link">3.0开发项目</a></li><li><a href="/myBlog/vue/02.html" class="active sidebar-link">项目开发心得</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由" class="sidebar-link">路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由管理" class="sidebar-link">路由管理</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由缓存" class="sidebar-link">路由缓存</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由重定向" class="sidebar-link">路由重定向</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#命名视图" class="sidebar-link">命名视图</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由传值" class="sidebar-link">路由传值</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#路由默认值" class="sidebar-link">路由默认值</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#组件创建" class="sidebar-link">组件创建</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#axios" class="sidebar-link">axios</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#vuex状态管理" class="sidebar-link">vuex状态管理</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#生命周期函数" class="sidebar-link">生命周期函数</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#点击事件" class="sidebar-link">点击事件</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#鼠标单击选中取消" class="sidebar-link">鼠标单击选中取消</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#过滤器" class="sidebar-link">过滤器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#全局过滤器" class="sidebar-link">全局过滤器</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#局部过滤器" class="sidebar-link">局部过滤器</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#函数防抖" class="sidebar-link">函数防抖</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#vue模板快速生成" class="sidebar-link">vue模板快速生成</a></li><li class="sidebar-sub-header"><a href="/myBlog/vue/02.html#移动端设置" class="sidebar-link">移动端设置</a></li></ul></li><li><a href="/myBlog/vue/03.html" class="sidebar-link">Vue源码</a></li><li><a href="/myBlog/vue/04.html" class="sidebar-link">Vue单元测试</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="项目开发心得"><a href="#项目开发心得" aria-hidden="true" class="header-anchor">#</a> 项目开发心得</h1> <h2 id="路由"><a href="#路由" aria-hidden="true" class="header-anchor">#</a> 路由</h2> <h3 id="路由管理"><a href="#路由管理" aria-hidden="true" class="header-anchor">#</a> 路由管理</h3> <p>​	路由的话对于大型项目而言不建议直接写在index.js下面，建议通过创建对应文件夹的形式分模块管理。</p> <p>例如router文件夹下：</p> <p>1、index.js下引入分目录对应路由</p> <div class="language- extra-class"><pre class="language-text"><code>import Vue from 'vue'
import Router from 'vue-router'
import movieRouter from './movie'

Vue.use(Router)

export default new Router({
    mode: 'history',
    base: process.env.BASE_URL,
    routes: [
        movieRouter,
        {
            path: '/*',
            redirect: '/movie'
        }
    ]
})

</code></pre></div><p>2、分目录下路由直接暴露出来即可</p> <div class="language- extra-class"><pre class="language-text"><code>export default {
  path: '/mine',
  component: () =&gt; import('@/views/Mine'),
}
</code></pre></div><h3 id="路由缓存"><a href="#路由缓存" aria-hidden="true" class="header-anchor">#</a> 路由缓存</h3> <p>切换路由每次都会重新渲染，这样比较消耗内存，keep-alive包裹能起到缓存作用。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;keep-alive&gt;
    &lt;router-view /&gt;
&lt;/keep-alive&gt;

只要路由匹配上了，就会默认添加router-link-active类名，所以根据这个特性可以设置相应样式
即，
#footer ul li.router-link-active {
  color: #f03d37;
}
</code></pre></div><h3 id="路由重定向"><a href="#路由重定向" aria-hidden="true" class="header-anchor">#</a> 路由重定向</h3> <p>通过redirect设置重定向路由</p> <div class="language- extra-class"><pre class="language-text"><code>export default new Router({
    mode: 'history',
    base: process.env.BASE_URL,
    routes: [
        movieRouter,
        mineRouter,
        {
            path: '/*',
            redirect: '/movie'
        }
    ]
})
</code></pre></div><h3 id="命名视图"><a href="#命名视图" aria-hidden="true" class="header-anchor">#</a> 命名视图</h3> <p>有时候想同时 (同级) 展示多个视图，而不是嵌套展示，例如创建一个布局，有 <code>sidebar</code> (侧导航) 和 <code>main</code> (主内容) 两个视图，这个时候命名视图就派上用场了。你可以在界面中拥有多个单独命名的视图，而不是只有一个单独的出口。如果 <code>router-view</code> 没有设置名字，那么默认为 <code>default</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;TabBar&gt;&lt;/TabBar&gt;
// 同级命名路由
&lt;router-view name='detail' /&gt;

路由设置
{
    path: 'detail',
    components: {
         detail: () =&gt; import('@/views/Movie/detail')
    }
}
</code></pre></div><h3 id="路由传值"><a href="#路由传值" aria-hidden="true" class="header-anchor">#</a> 路由传值</h3> <h4 id="传值"><a href="#传值" aria-hidden="true" class="header-anchor">#</a> 传值</h4> <div class="language- extra-class"><pre class="language-text"><code>路由跳转时绑定Id
this.$router.push('/movie/detail/1/' + movieId);

{
   path: 'detail/:movieId',
   components: {
       detail: () =&gt; import('@/views/Movie/detail')
   }
}
</code></pre></div><h4 id="取值"><a href="#取值" aria-hidden="true" class="header-anchor">#</a> 取值</h4> <p>1、通过$route</p> <div class="language- extra-class"><pre class="language-text"><code>var detaiId = this.$route.params.movieId;
</code></pre></div><p>2、组件传值</p> <div class="language- extra-class"><pre class="language-text"><code>首先配置路由；
{
     path: 'detail/:movieId',
     components: {
         detail: () =&gt; import('@/views/Movie/detail')
     },
     props: {
         detail: true
     }
},
组件中可以通过props取用
  props: ['movieId'],
  mounted () {
    var movieId = this.movieId;
}
</code></pre></div><h3 id="路由默认值"><a href="#路由默认值" aria-hidden="true" class="header-anchor">#</a> 路由默认值</h3> <p>场景：比如列表进入详情页</p> <p>解决：default路由不匹配问题</p> <div class="language- extra-class"><pre class="language-text"><code>export default {
    path: '/movie',
    component: () =&gt; import('@/views/Movie'),
    children: [
        {
            path: 'detail/1/:movieId',
            components: {
                default: () =&gt; import('@/components/NowPlaying'),
                detail: () =&gt; import('@/views/Movie/detail')
            },
            props: {
                detail: true
            }
        },
        {
            path: 'detail/2/:movieId',
            components: {
                default: () =&gt; import('@/components/ComingSoon'),
                detail: () =&gt; import('@/views/Movie/detail')
            },
            props: {
                detail: true
            }
        },
        {
            path: '/movie',
            redirect: '/movie/nowPlaying'
        }
    ]
}
</code></pre></div><h2 id="组件"><a href="#组件" aria-hidden="true" class="header-anchor">#</a> 组件</h2> <h3 id="组件创建"><a href="#组件创建" aria-hidden="true" class="header-anchor">#</a> 组件创建</h3> <p>给组件添加name有利于调试</p> <div class="language- extra-class"><pre class="language-text"><code>export default {
  name: 'movie'
}
</code></pre></div><h3 id="axios"><a href="#axios" aria-hidden="true" class="header-anchor">#</a> axios</h3> <p>最好是在全局安装，方便每个组件调用</p> <div class="language- extra-class"><pre class="language-text"><code>npm i axios -S

main.js
import axios from 'axios'
Vue.prototype.axios = axios;
</code></pre></div><h2 id="vuex状态管理"><a href="#vuex状态管理" aria-hidden="true" class="header-anchor">#</a> vuex状态管理</h2> <p>store文件夹下拆分</p> <p>1、index.js引入</p> <div class="language- extra-class"><pre class="language-text"><code>import Vue from 'vue'
import Vuex from 'vuex'
import city from './city';

Vue.use(Vuex)

export default new Vuex.Store({
    state: {
    },
    mutations: {
    },
    actions: {
    },
    modules: {
        city
    }
})
</code></pre></div><p>2、在子目录下将数据定义出来</p> <div class="language- extra-class"><pre class="language-text"><code>const state = {
    nm: window.localStorage.getItem('nowNm') || '北京',
    id: window.localStorage.getItem('nowId') || 1
};

const actions = {
};

const mutations = {
    CITY_INFO (state, payload) {
        state.nm = payload.nm;
        state.id = payload.id;
    }
};

export default {
    namespaced: true,
    state,
    actions,
    mutations
}
</code></pre></div><p>3、获取和设置</p> <div class="language- extra-class"><pre class="language-text"><code>获取：
&lt;span&gt;{{$store.state.city.nm}}&lt;/span&gt;
设置
this.$store.commit('city/CITY_INFO',{ nm , id });
</code></pre></div><h2 id="生命周期函数"><a href="#生命周期函数" aria-hidden="true" class="header-anchor">#</a> 生命周期函数</h2> <p>生命周期activated()：组件激活时调用，activated()替换mounted()</p> <p>应用场景：比如改变当前定位城市，再切换到正在上映电影列表组件，那么该组件必须重新获取城市id来重新获取数据渲染。</p> <p>问题：如果没有改变城市，只是切换页面，那么不应该做在这个生命周期函数中执行ajax请求。
解决方式：</p> <ul><li>data中新增pevCityId: -1</li> <li>然后请求之前从vuex中取数据</li> <li>在请求成功之后，给pevCityId赋值</li> <li>再到请求之前判断pevCityId是否和vuex中cityid一样</li> <li>如果一样则不再进行请求</li></ul> <p>即将上映、影院和搜索同理
注意：</p> <ul><li>搜索组件不需要重新判断城市，因为每次都是异步渲染的</li></ul> <h2 id="点击事件"><a href="#点击事件" aria-hidden="true" class="header-anchor">#</a> 点击事件</h2> <p>​	移动端项目点击事件最好采用@touchstart，如果使用@click事件会有一定延时，但是touchstart 在点击和滑动的时候都会触发，这个问题需要解决</p> <p>解决：使用tap事件。</p> <p>​	点击时候触发，滑动的时候不触发，但是vue没有tap事件，需要自己模拟。</p> <p>模拟tap事件</p> <p>主要有以下几种方案：</p> <ul><li><p>1、利用 touchstart 、 touchmove  、touchend来模拟；</p></li> <li><p>2、移动端zepto 也提供tap事件</p></li> <li><p>3、vue-touch</p></li> <li><p>4、利用better-scroll第三方模块也自带tap方法</p></li></ul> <p>个人推荐第四种</p> <div class="language- extra-class"><pre class="language-text"><code>npm i better-scroll -S

组件中引入
import BScroll from 'better-scroll';

配置tap事件即可
this.$nextTick(() =&gt; {
     // 两个参数：最外层容器，配置对象
     new BScroll(this.$refs.movie_body, {
         tap: true
     });
})

这样组件就能直接使用@tap事件
</code></pre></div><p><a href="https://www.cnblogs.com/cangqinglang/p/8553746.html" target="_blank" rel="noopener noreferrer">better-scroll全部参数方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="鼠标单击选中取消"><a href="#鼠标单击选中取消" aria-hidden="true" class="header-anchor">#</a> 鼠标单击选中取消</h2> <p>按一下接盘Ins键即可</p> <h2 id="过滤器"><a href="#过滤器" aria-hidden="true" class="header-anchor">#</a> 过滤器</h2> <h3 id="全局过滤器"><a href="#全局过滤器" aria-hidden="true" class="header-anchor">#</a> 全局过滤器</h3> <div class="language- extra-class"><pre class="language-text"><code>import Vue from &quot;vue&quot;;

Vue.filter('setWH',(url,arg)=&gt;{
  // 正则替换，将w.h替换成指定的arg
  return url.replace(/w\.h/,arg);
})


main.js引入即可
import './filter'
</code></pre></div><h3 id="局部过滤器"><a href="#局部过滤器" aria-hidden="true" class="header-anchor">#</a> 局部过滤器</h3> <div class="language- extra-class"><pre class="language-text"><code>直接在组建中定义filters，例如：

filters: {
    // 过滤卡片名
    formatCard (key) {
      var card = {
        'allowRefund': '改签',
        'endorse': '退',
        'sell': '折扣卡',
        'snack': '小吃'
      }
      return card[key];
    },
</code></pre></div><h2 id="函数防抖"><a href="#函数防抖" aria-hidden="true" class="header-anchor">#</a> 函数防抖</h2> <p>​	即，快速输入的时候只是针对最后一次去触发，而之前的要进行清除。不让之前的输入触发。</p> <p>1、原生定时器</p> <div class="language- extra-class"><pre class="language-text"><code>clearTimeout()
setTimeout()
意思就是，将请求放在setTimeout中，每次watch变化时先清除定时器，
就能保证是最后一次触发
</code></pre></div><p>2、axios本身的防抖策略</p> <div class="language- extra-class"><pre class="language-text"><code>axios终止多次请求
watch: {
    message (val) {
+      var that = this;
      // 取消上一次请求
+      this.cancelRequest();

      this.axios.get('/api/searchList?cityId=10&amp;kw=' + val, {
+       cancelToken: new this.axios.CancelToken(function executor (c) {
          that.source = c;
        })
      }).then((res) =&gt; {
        console.log(res.data.data)
        var msg = res.data.msg;
        var data = res.data.data;
        if (msg === 'ok') {
          this.moviesList = data.movies.list;
        }
      }).catch((err) =&gt; {
+        if (this.axios.isCancel(err)) {
          console.log('Rquest canceled', err.message); //请求如果被取消，这里是返回取消的message
        } else {
          //handle error
          console.log(err);
        }
      })
    }
  },
  methods: {
 +   cancelRequest () {
      if (typeof this.source === 'function') {
        this.source('终止请求')
      }
    },
  }


注意：ajax的abort()方法也可以
</code></pre></div><h2 id="vue模板快速生成"><a href="#vue模板快速生成" aria-hidden="true" class="header-anchor">#</a> vue模板快速生成</h2> <p>安装Vetur插件，在新创建的.vue文件中输入scaffold，快速生成vue模板</p> <h2 id="移动端设置"><a href="#移动端设置" aria-hidden="true" class="header-anchor">#</a> 移动端设置</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,user-scalable=no&quot;&gt;
</code></pre></div><p>user-scalable=no禁止用户在手机屏幕上缩放</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/gangking/myBlog/edit/master/docs/vue/02.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2019-8-11 21:17:32</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/myBlog/vue/01.html" class="prev">
          3.0开发项目
        </a></span> <span class="next"><a href="/myBlog/vue/03.html">
          Vue源码
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myBlog/assets/js/app.9a205e1a.js" defer></script><script src="/myBlog/assets/js/2.c03f67b8.js" defer></script><script src="/myBlog/assets/js/33.69f4ac61.js" defer></script>
  </body>
</html>
